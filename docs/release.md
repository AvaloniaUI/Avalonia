# Release Process

This document describes the process for creating a new Avalonia release

## Backports

- Go through PRs with "backport-candidate-*" tags, make sure this list makes sense
- Checkout https://github.com/grokys/avalonia-backport tool from the source code, get github api token
- Checkout stable release branch, like `release/11.0`
- Run backport cherry-picking process to the stable release branch
- Test if everything builds and tests are passing
- Test nightly builds of Avalonia
- Run labeling process (automatically replace "backport-candidate" with "backported" tags) and generate changelog

## Release

- Create a branch named e.g. `release/11.0.9` for the specific minor version
- Update the version number in the file [SharedVersion.props](../build/SharedVersion.props), e.g. `<Version>11.0.9</Version>`
- Commit the file.
- Add a tag for this version, e.g. `git tag 11.0.9`.
- Update the `release/latest` branch to point to the same commit.
- Push the release branches and the tag.
- Wait for azure pipelines to finish the build. Nightly build with 11.0.9 version should be released soon after.
- Using the nightly build run a due diligence test to make sure you're happy with the package.
- On azure pipelines, on the release for your release branch `release/11.0.9` click on the badge for "Nuget Release"
- Click deploy
- Make a release on Github releases
- Press "Auto-generate changelog", so GitHub will append information about new contributors
- Replace changelog with one generated by avalonia-backport tool. Enable discussion for the specific release
- Review the release information and publish.
- Update the dotnet templates, visual studio templates.
- Announce on telegram (RU and EN), twitter, etc
